generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Pick {
  id            String        @id @db.VarChar(191)
  createdAt     DateTime?     @default(now()) @db.Timestamptz(6) @map("created_at")
  updatedAt     DateTime?     @updatedAt @db.Timestamptz(6) @map("updated_at")
  year          Int           @default(0)
  show          String        @db.VarChar(191)
  week          Int?
  person        String        @db.VarChar(191)
  type          String        @db.VarChar(191)
  description   String        @db.VarChar(191)
  homeTeam      NFLTeam       @map("home_team")
  awayTeam      NFLTeam       @map("away_team")
  homeTeamScore Int?          @map("home_team_score")
  awayTeamScore Int?          @map("away_team_score")
  winner        Int?
  gameDate      DateTime?     @db.Timestamptz(6) @map("game_date")
  result        String?       @db.VarChar(191)
  league        String        @db.VarChar(191)
  specialBet    String?       @db.VarChar(191) @map("special_bet")
  nerdNugget    String?       @db.VarChar(510) @map("nerd_nugget")
  push          Int?
  betLink       String?       @db.VarChar(191) @map("bet_link")
  espnLink      String?       @db.VarChar(191) @map("espn_link")
  highlighLink  String?       @db.VarChar(191) @map("highlight_link")
  private       Boolean       @default(false)
  user          User?          @relation(fields: [userId], references: [id])
  userId        String?        @db.VarChar(191) @unique @map("user_id")
  fade          Fade[]
  tail          Tail[]
}

model User {
  id              String   @id @db.VarChar(191)
  username        String   @unique @db.VarChar(191)
  hashed_password String   @db.VarChar(191)
  email           String?  @unique @db.VarChar(191)
  createdAt       DateTime @default(now()) @db.Timestamptz(6) @map("created_at")
  updatedAt       DateTime @default(now()) @db.Timestamptz(6) @map("updated_at")
  role            String   @default("user") @db.VarChar(191)
  avatar          Avatar?  
  session        Session[]
  tail            Tail[]
  fade            Fade[]
  picks           Pick[]
}

// model PasswordRest {
//   token_hash String   @unique @db.VarChar(191)
//   user       User     @relation(fields: [userId], references: [id])
//   userId     String   @db.VarChar(191) @map("user_id")
//   expiresAt  DateTime @db.Timestamptz(6) @map("expires_at")
// }

model Session {
  id        String   @id @db.VarChar(191)
  user     User   @relation(fields: [userId], references: [id])
  userId    String   @unique @db.VarChar(191) @map("user_id")
  expiresAt DateTime @db.Timestamptz(6) @map("expires_at")
}

model Avatar {
  id           String   @id @db.VarChar(191)
  size         Int
  type         String   @db.VarChar(191)
  name         String   @db.VarChar(191)
  path         String   @db.VarChar(191)
  lastModified DateTime @db.Timestamptz(6) @map("last_modified")
  user         User   @relation(fields: [userId], references: [id])
  userId       String   @unique @db.VarChar(191) @map("user_id")
}

model Fade {
  id        String   @id @db.VarChar(191)
  createdAt DateTime @default(now()) @db.Timestamptz(6) @map("created_at")
  updatedAt DateTime @updatedAt @db.Timestamptz(6) @map("updated_at")
  user      User     @relation(fields: [userId], references: [id])
  userId    String   @db.VarChar(191) @map("user_id")
  pick      Pick     @relation(fields: [pickId], references: [id])
  pickId    String   @db.VarChar(191) @map("pick_id")
  winner    Boolean?
  push      Boolean?
}

model Tail {
  id        String   @id @db.VarChar(191)
  createdAt DateTime @default(now()) @db.Timestamptz(6) @map("created_at")
  updatedAt DateTime @updatedAt @db.Timestamptz(6) @map("updated_at")
  user      User     @relation(fields: [userId], references: [id])
  userId    String   @db.VarChar(191) @map("user_id")
  pick      Pick     @relation(fields: [pickId], references: [id])
  pickId    String   @db.VarChar(191) @map("pick_id")
  winner    Boolean?
  push      Boolean?
}

enum NFLTeam {
  cardinals
  falcons
  ravens
  bills
  panthers
  bears
  bengals
  browns
  cowboys
  broncos
  lions
  packers
  texans
  colts
  jaguars
  chiefs
  chargers
  rams
  dolphins
  vikings
  patriots
  saints
  giants
  jets
  raiders
  eagles
  steelers
  fortyNiners
  seahawks
  buccaneers
  titans
  commanders
}

